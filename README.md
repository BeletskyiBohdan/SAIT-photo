# Застосунок для обробки портретних фотографій

Покроковий браузерний інструмент для підготовки стандартизованих портретних фотографій для публікації на вебсайті та високоякісного друку (A6 105×148 мм при 300 DPI). Вся обробка (видалення фону, обрізка, експорт) відбувається локально у браузері для забезпечення приватності.

## Можливості
- Видалення фону у браузері через `@imgly/background-removal` (WASM, без сервера).
- Покроковий UX: Завантаження → Дані (посада + ім'я) → Обрізка для вебу → Обрізка для друку → Експорт.
- Різні кольори фону залежно від посади:
  - Викладач: `#3C60AA`
  - Асистент: `#ACD6F3`
  - Аспірант: `#8CB8E4`
- Експорт для вебу: PNG 360×500 пікселів.
- Експорт для друку: JPG 1240×1748 пікселів (точно 105мм × 148мм при 300 DPI).
- Експорт PDF: сторінка A6 (105×148 мм) з зображенням для друку.
- ZIP-архів: `(<скорочена посада> <Ім'я>).zip` з PNG, JPG, PDF.
- Ручна обрізка для кожного етапу за допомогою `CropperJS` з фіксованими співвідношеннями сторін.
- Прогресбар із гумористичними повідомленнями під час видалення фону.

## Технологічний стек
- Vite (dev-сервер і ES-модульне збирання)
- CropperJS (інтерфейс ручної обрізки)
- JSZip (створення багатофайлових ZIP-архівів)
- jsPDF (генерація PDF з реальними фізичними розмірами)
- @imgly/background-removal (сегментація переднього плану)

## Встановлення
```bash
npm install
```

## Розробка
```bash
npm run dev
```
Відкрийте надану URL-адресу (наприклад, `http://localhost:5173` або резервний порт). Якщо 5173 зайнятий:
```bash
npm run dev -- --port 5181
```

## Кроки робочого процесу
1. **Завантаження фото** – Виберіть зображення; починається обробка (прогресбар).
2. **Введення даних** – Виберіть посаду, введіть ім'я (підказка `Білецький Б.С.`).
3. **Обрізка для вебу** – Обріжте до співвідношення 360×500; застосовується фон.
4. **Перегляд результату для вебу** – Підтвердіть, перейдіть до етапу друку.
5. **Обрізка для друку** – Обріжте до співвідношення 105×148 мм (фінальна висока роздільна здатність).
6. **Перегляд результату для друку** – З'являються опції експорту.
7. **Зберегти архів** – Завантажується ZIP з PNG (веб), JPG (друк), PDF (друк). Показується повідомлення про успіх.
8. **Перезапуск** – Почніть нове фото.

## Конвенція назв файлів
```
(<скорочена посада>) (<Ім'я>) - на сайт.png
(<скорочена посада>) (<Ім'я>) - на друк.jpg
(<скорочена посада>) (<Ім'я>) - на друк.pdf
(<скорочена посада>) (<Ім'я>).zip
```
Коди скорочених посад:
- викл.
- ас.
- асп.

## Нотатки щодо DPI / друку
Браузери не вбудовують DPI-метадані автоматично в JPEG через Canvas. Пікселі (1240×1748) точно відповідають 105×148 мм при 300 DPI. Експорт PDF використовує фізичні одиниці в міліметрах, забезпечуючи цілісність розміру друку.

## Ліцензування
`@imgly/background-removal` ліцензований під AGPL. Якщо ви публічно розповсюджуєте або розгортаєте цей застосунок і не можете дотримуватися умов AGPL (наприклад, розкриття вихідного коду), отримайте комерційну ліцензію від IMG.LY. Перегляньте їхній репозиторій/ліцензію для деталей.

## Потенційні покращення
- Вбудовування EXIF DPI-метаданих у JPG за допомогою клієнтської EXIF-бібліотеки.
- Додавання drag-and-drop завантаження.
- Черга масової обробки.
- Покращення доступності (стани фокуса, ARIA-мітки).

## Розгортання на GitHub
1. Створіть новий репозиторій на GitHub (наприклад, `portrait-workflow`).
2. Ініціалізуйте локально, якщо ще не зроблено:
   ```bash
   git init
   git add .
   git commit -m "Initial commit: portrait processing app"
   git branch -M main
   git remote add origin https://github.com/<ваш-username>/<repo>.git
   git push -u origin main
   ```
3. Для наступних змін:
   ```bash
   git add .
   git commit -m "Update feature"
   git push
   ```

## Структура папок (ключові файли)
```
prjct/
  |- src/               # Вихідні JS-модулі (app, ui, config, тощо)
  |- styles/            # CSS-модулі (main, loading, тощо)
  |- index.html         # Головний застосунок (багатокроковий UI)
  |- package.json       # Залежності та скрипти
  |- README.md
  |- .gitignore
```

## Підтримка браузерів
Рекомендовані сучасні браузери на основі Chromium (WebAssembly + Offscreen для продуктивності). Апаратне прискорення WebGPU/WebGL покращує швидкість сегментації.

---
Налаштовуйте брендинг, кольори або додавайте логування за потреби.
