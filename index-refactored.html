<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Обробка фотографій портретів</title>
    <link rel="stylesheet" href="./styles/main.css">
</head>
<body>
    <div class="container">
        <h1>Обробка фотографій портретів</h1>
        
        <!-- Step 1: Upload Photo -->
        <div id="step1" class="step active">
            <div class="control-group">
                <label>Завантажте фотографію</label>
                <input type="file" id="upload" accept="image/*" style="display: none;">
                <button id="uploadBtn">Завантажити фото</button>
            </div>
        </div>

        <!-- Step 1.5: Loading Photo -->
        <div id="step1_5" class="step">
            <div class="loading-wrapper">
                <div class="spinner" aria-label="loading"></div>
                <div class="loading-label" id="loadingLabel">Ваше фото обробляється...</div>
                <div class="loading-stage" id="loadingStage">Підготовка...</div>
                <div class="progress-container">
                    <div class="progress-bar-bg">
                        <div class="progress-bar-fill" id="progressBar">
                            <span class="progress-percent" id="progressPercent">0%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 2: Enter Name and Position -->
        <div id="step2" class="step">
            <div class="control-group">
                <label for="position">Посада:</label>
                <select id="position">
                    <option value="викладач">Викладач</option>
                    <option value="асистент">Асистент</option>
                    <option value="аспірант">Аспірант</option>
                </select>
            </div>
            <div class="control-group">
                <label for="name">Ім'я:</label>
                <input type="text" id="name" placeholder="Білецький Б.С.">
            </div>
            <button id="continueBtn">Продовжити</button>
        </div>

        <!-- Step 3: Crop for Web -->
        <div id="step3" class="step">
            <div id="output">
                <div id="imageContainer"></div>
            </div>
            <button id="cropWebBtn">Застосувати обрізання</button>
        </div>

        <!-- Step 3.5: Show Web Result -->
        <div id="step3_5" class="step">
            <div id="output">
                <canvas id="canvasWeb"></canvas>
            </div>
            <button id="toPrintBtn">Перейти до обрізання для друку</button>
        </div>

        <!-- Step 4: Crop for Print -->
        <div id="step4" class="step">
            <div id="output">
                <div id="imageContainer2"></div>
            </div>
            <button id="cropPrintBtn">Застосувати обрізання</button>
        </div>

        <!-- Step 4.5: Show Print Result -->
        <div id="step4_5" class="step">
            <div id="output">
                <canvas id="canvasPrint"></canvas>
            </div>
            <button id="saveBtn">Зберегти два зображення</button>
        </div>

        <!-- Step 5: Completion -->
        <div id="step5" class="step">
            <p class="message">Вітаю, одне фото готове. Перейдемо до іншого?</p>
            <button id="restartBtn">Так, давай ще!</button>
        </div>
    </div>

    <script type="module" src="./src/main.js"></script>
</body>
</html>
